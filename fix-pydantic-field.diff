commit e519260e56e39158d55d106283e07f23f25c43df
Author: Wei Ouyang <oeway007@gmail.com>
Date:   Tue Jul 8 07:24:25 2025 -0700

    Fix pydantic Field not defined

diff --git a/javascript/package-lock.json b/javascript/package-lock.json
index 32abdce..8a05bdd 100644
--- a/javascript/package-lock.json
+++ b/javascript/package-lock.json
@@ -1,12 +1,12 @@
 {
   "name": "hypha-rpc",
-  "version": "0.20.64",
+  "version": "0.20.65",
   "lockfileVersion": 3,
   "requires": true,
   "packages": {
     "": {
       "name": "hypha-rpc",
-      "version": "0.20.64",
+      "version": "0.20.65",
       "license": "MIT",
       "dependencies": {
         "@msgpack/msgpack": "^2.7.1"
diff --git a/javascript/package.json b/javascript/package.json
index c4c73c4..a3c2e23 100644
--- a/javascript/package.json
+++ b/javascript/package.json
@@ -1,6 +1,6 @@
 {
   "name": "hypha-rpc",
-  "version": "0.20.64",
+  "version": "0.20.65",
   "description": "Hypha RPC client for connecting to Hypha server for data management and AI model serving.",
   "main": "index.js",
   "types": "index.d.ts",
diff --git a/python/hypha_rpc/VERSION b/python/hypha_rpc/VERSION
index 8984c2e..d5c61d5 100644
--- a/python/hypha_rpc/VERSION
+++ b/python/hypha_rpc/VERSION
@@ -1,3 +1,3 @@
 {
-  "version": "0.20.64"
+  "version": "0.20.65"
 }
\ No newline at end of file
diff --git a/python/hypha_rpc/utils/schema.py b/python/hypha_rpc/utils/schema.py
index 307c794..5129f55 100644
--- a/python/hypha_rpc/utils/schema.py
+++ b/python/hypha_rpc/utils/schema.py
@@ -14,10 +14,6 @@ try:
     _PYDANTIC_AVAILABLE = True
 except ImportError:
     _PYDANTIC_AVAILABLE = False
-    FieldInfo = type("FieldInfo", (), {})
-    PydanticField = Field  # fallback to your own Field class (defined below)
-    PydanticUndefined = inspect._empty
-    ValidationError = Exception
 
 
 # Dynamic pydantic availability check
@@ -51,6 +47,13 @@ class Field:
         self.description = description
 
 
+if not _PYDANTIC_AVAILABLE:
+    PydanticField = Field
+    FieldInfo = type("FieldInfo", (), {})
+    PydanticUndefined = inspect._empty
+    ValidationError = Exception
+
+
 # https://stackoverflow.com/a/58938747
 def remove_a_key(d, remove_key):
     if isinstance(d, dict):
diff --git a/python/pyproject.toml b/python/pyproject.toml
index 2a8c887..fed8bae 100644
--- a/python/pyproject.toml
+++ b/python/pyproject.toml
@@ -4,7 +4,7 @@ build-backend = "setuptools.build_meta"
 
 [project]
 name = "hypha_rpc"
-version = "0.20.64"
+version = "0.20.65"
 description = "Hypha RPC client for connecting to Hypha server for data management and AI model serving"
 readme = "README.md"
 requires-python = ">=3.6"
